<!-- dashboard.ejs -->
<div class="mb-4">
  <h1 class="display-6 fw-bold text-primary">
    <i class="fas fa-tachometer-alt me-3"></i>Dashboard
  </h1>
  <p class="lead text-muted">
    Welcome back, <strong>
    </strong>!
    Here's an overview of your contacts.
  </p>
</div>

<!-- Stats Cards Row -->
<div class="row g-4 mb-5">
  <!-- Total Contacts -->
  <div class="col-xl-3 col-md-6">
    <div class="card stats-card bg-primary text-white">
      <div class="card-body">
        <div class="d-flex align-items-center">
          <div class="flex-grow-1">
            <h6 class="card-subtitle mb-2 text-white-50">Total Contacts</h6>
            <h2 class="card-title mb-0 fw-bold" id="total-contacts">
              <div class="spinner-border spinner-border-sm" role="status"></div>
            </h2>
          </div>
          <div class="ms-3">
            <i class="fas fa-users stats-icon"></i>
          </div>
        </div>
      </div>
      <div class="card-footer bg-transparent border-light">
        <a href="/contacts" class="text-white text-decoration-none d-flex align-items-center">
          <span class="me-auto">View all contacts</span>
          <i class="fas fa-arrow-right"></i>
        </a>
      </div>
    </div>
  </div>

  <!-- Favorites -->
  <div class="col-xl-3 col-md-6">
    <div class="card stats-card bg-warning text-dark">
      <div class="card-body">
        <div class="d-flex align-items-center">
          <div class="flex-grow-1">
            <h6 class="card-subtitle mb-2 text-dark-emphasis opacity-75">Favorites</h6>
            <h2 class="card-title mb-0 fw-bold" id="favorite-contacts">
              <div class="spinner-border spinner-border-sm text-dark" role="status"></div>
            </h2>
          </div>
          <div class="ms-3">
            <i class="fas fa-star stats-icon"></i>
          </div>
        </div>
      </div>
      <div class="card-footer bg-transparent border-warning-subtle">
        <a href="/contacts?filter=favorites" class="text-dark text-decoration-none d-flex align-items-center">
          <span class="me-auto">View favorites</span>
          <i class="fas fa-arrow-right"></i>
        </a>
      </div>
    </div>
  </div>

  <!-- Recent Contacts -->
  <div class="col-xl-3 col-md-6">
    <div class="card stats-card bg-success text-white">
      <div class="card-body">
        <div class="d-flex align-items-center">
          <div class="flex-grow-1">
            <h6 class="card-subtitle mb-2 text-white-50">Added This Week</h6>
            <h2 class="card-title mb-0 fw-bold" id="recent-contacts">
              <div class="spinner-border spinner-border-sm" role="status"></div>
            </h2>
          </div>
          <div class="ms-3">
            <i class="fas fa-clock stats-icon"></i>
          </div>
        </div>
      </div>
      <div class="card-footer bg-transparent border-light">
        <a href="/contacts?sort=newest" class="text-white text-decoration-none d-flex align-items-center">
          <span class="me-auto">View recent</span>
          <i class="fas fa-arrow-right"></i>
        </a>
      </div>
    </div>
  </div>

  <!-- Companies -->
  <div class="col-xl-3 col-md-6">
    <div class="card stats-card bg-info text-white">
      <div class="card-body">
        <div class="d-flex align-items-center">
          <div class="flex-grow-1">
            <h6 class="card-subtitle mb-2 text-white-50">Companies</h6>
            <h2 class="card-title mb-0 fw-bold" id="companies-count">
              <div class="spinner-border spinner-border-sm" role="status"></div>
            </h2>
          </div>
          <div class="ms-3">
            <i class="fas fa-building stats-icon"></i>
          </div>
        </div>
      </div>
      <div class="card-footer bg-transparent border-light">
        <a href="/contacts?filter=companies" class="text-white text-decoration-none d-flex align-items-center">
          <span class="me-auto">View companies</span>
          <i class="fas fa-arrow-right"></i>
        </a>
      </div>
    </div>
  </div>
</div>

<!-- Second Row - Charts and Recent Activity -->
<div class="row g-4 mb-4">
  <!-- Contact Growth Chart -->
  <div class="col-lg-8">
    <div class="card h-100 shadow-sm">
      <div class="card-header bg-white border-bottom">
        <div class="d-flex justify-content-between align-items-center">
          <h5 class="card-title mb-0">
            <i class="fas fa-chart-line text-primary me-2"></i>
            Contact Growth
          </h5>
          <div class="btn-group btn-group-sm" role="group">
            <input type="radio" class="btn-check" name="chartPeriod" id="week" autocomplete="off" checked>
            <label class="btn btn-outline-secondary" for="week">Week</label>

            <input type="radio" class="btn-check" name="chartPeriod" id="month" autocomplete="off">
            <label class="btn btn-outline-secondary" for="month">Month</label>

            <input type="radio" class="btn-check" name="chartPeriod" id="year" autocomplete="off">
            <label class="btn btn-outline-secondary" for="year">Year</label>
          </div>
        </div>
      </div>
      <div class="card-body">
        <div class="chart-container">
          <canvas id="contactGrowthChart"></canvas>
        </div>
      </div>
    </div>
  </div>

  <!-- Recent Activity -->
  <div class="col-lg-4">
    <div class="card h-100 shadow-sm">
      <div class="card-header bg-white border-bottom">
        <h5 class="card-title mb-0">
          <i class="fas fa-history text-success me-2"></i>
          Recent Activity
        </h5>
      </div>
      <div class="card-body p-0">
        <div class="list-group list-group-flush" id="recent-activity">
          <!-- Loading spinner -->
          <div class="list-group-item text-center py-4">
            <div class="spinner-border text-primary" role="status">
              <span class="visually-hidden">Loading...</span>
            </div>
          </div>
        </div>
      </div>
      <div class="card-footer bg-white text-center">
        <a href="/contacts" class="btn btn-sm btn-outline-primary">
          <i class="fas fa-eye me-1"></i>View All Contacts
        </a>
      </div>
    </div>
  </div>
</div>

<!-- Quick Actions Row -->
<div class="row g-4 mb-4">
  <div class="col-12">
    <div class="card shadow-sm">
      <div class="card-header bg-white border-bottom">
        <h5 class="card-title mb-0">
          <i class="fas fa-bolt text-warning me-2"></i>
          Quick Actions
        </h5>
      </div>
      <div class="card-body">
        <div class="row g-3">
          <div class="col-md-3">
            <a href="/contact/create" class="btn btn-primary w-100 py-3">
              <i class="fas fa-user-plus fa-2x d-block mb-2"></i>
              <span class="fw-semibold">Add Contact</span>
            </a>
          </div>
          <div class="col-md-3">
            <button class="btn btn-success w-100 py-3" onclick="importContacts()">
              <i class="fas fa-file-import fa-2x d-block mb-2"></i>
              <span class="fw-semibold">Import Contacts</span>
            </button>
          </div>
          <div class="col-md-3">
            <button class="btn btn-info w-100 py-3" onclick="exportContacts()">
              <i class="fas fa-download fa-2x d-block mb-2"></i>
              <span class="fw-semibold">Export Contacts</span>
            </button>
          </div>
          <div class="col-md-3">
            <a href="/profile" class="btn btn-outline-secondary w-100 py-3">
              <i class="fas fa-user-cog fa-2x d-block mb-2"></i>
              <span class="fw-semibold">Settings</span>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Include Chart.js -->
<script src=